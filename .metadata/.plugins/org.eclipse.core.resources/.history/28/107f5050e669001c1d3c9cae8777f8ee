package kr.co.ezenac.board.controller;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestParam;

import kr.co.ezenac.board.model.service.BoardService;
import kr.co.ezenac.board.model.vo.PagingVO;

@Controller
public class BoardController {
	@Autowired
	private BoardService bService;
	
	
	//QnA 리스트 페이지
	@GetMapping("qnaList.board")
	public String memberList(PagingVO vo, Model model,
			@RequestParam(value = "nowPage", required = false) String nowPage) {
		
		//페이징 처리
		int total = bService.countQna();
		if (nowPage == null) {
			nowPage = "1";
		}
		
		vo = new PagingVO(total, Integer.parseInt(nowPage));
		model.addAttribute("paging", vo);
		
		//{글번호 (시퀀스), 제목 (qna댓글 수), 작성자, 작성일} 가져오기
		model.addAttribute("qnaList", bService.selectQnaAll(vo));
		return "admin_member/member_list";
	}
}


